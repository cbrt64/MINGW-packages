--- gimp-2.10.12/app/main.c.orig
+++ gimp-2.10.12/app/main.c
@@ -374,6 +374,33 @@
 
     SetDllDirectoryW (w_bin_dir);
 
+  /* Add ourself to system path */
+  {
+    int result = 0;
+    static char progpath[PATH_MAX] = {'\0'};
+    char *path = getenv("PATH");
+    result = GetModuleFileNameA(NULL, progpath, PATH_MAX);
+    if (path) {
+      /* Add path of executable to system path. */
+      char *module_path = progpath;
+      char *new_path = alloca(strlen("PATH=")+strlen(module_path)+1+strlen(path)+1);
+      if (new_path) {
+        strcpy( new_path, "PATH=" );
+        strcat( new_path, module_path );
+        char *slashes = strchr( new_path, '/' );
+        while (slashes) {
+          *slashes = '\\';
+          slashes = strchr( slashes+1, '/' );
+        }
+        char *end = strrchr(new_path, '\\') ? strrchr(new_path, '\\') : new_path + strlen(new_path);
+        end[0] = ';';
+        end[1] = '\0';
+        strcat( new_path, path );
+        putenv( new_path );
+      }
+    }
+  }
+
   out:
     if (w_bin_dir)
       g_free (w_bin_dir);
